import{_ as z,l as A,b0 as X,ae as W,u as Be,C as _,D as i,y as S,j as e,a4 as R,ai as Q,E as w,M as T,a7 as N,T as Z,S as D,B as l,A as n,z as m,p as U,a3 as ne,a as re,r as J,f as te,o as Y,a2 as de,n as oe,x as me,R as H,aw as $e,a8 as _e,ad as Ke,aM as Ve,b1 as je,O as ee,G as V,m as pe,b2 as ue,b3 as ie,L as Ie,b4 as Je,H as Me,I as Ae,b5 as fe,w as Fe,K as Xe,b6 as L,ah as Ge,i as ke,b7 as xe,aF as Ye,b8 as Ze,q as Ee,a$ as Qe,b9 as et,ba as tt,aJ as Re,bb as ot,J as we,at as ve,v as Le,bc as nt,aZ as at}from"./index.fca36794.js";import{_ as lt,c as ze,u as De,a as st,g as Pe,r as ce,D as rt,t as ut,s as it,F as le,h as ct,b as dt}from"./index.541c53bf.js";import{l as mt,i as _t}from"./login.0000cb8e.js";import{m as pt}from"./layout.34b0ba56.js";const ft=function(f="shade",t){const o=document.querySelector(".layout-container"),r=document.createElement("div");r.setAttribute("class","ba-layout-shade "+f),o.appendChild(r),r.addEventListener("click",()=>{Ne(t)})},Ne=function(f=()=>{}){const t=document.querySelector(".ba-layout-shade");t&&t.remove(),f()};const vt={class:"layout-logo"},gt={key:0,class:"logo-img",src:lt,alt:"logo"},yt=A({__name:"logo",setup(f){X(u=>({"0e552ef4":e(t).layout.layoutMode!="Streamline"?e(t).getColorVal("menuTopBarBackground"):"transparent"}));const t=W(),o=Be(),r=function(){t.layout.shrink&&!t.layout.menuCollapse&&Ne(),t.setLayout("menuCollapse",!t.layout.menuCollapse)};return(u,d)=>{const y=_("Icon");return i(),S("div",vt,[e(t).layout.menuCollapse?R("",!0):(i(),S("img",gt)),e(t).layout.menuCollapse?R("",!0):(i(),S("div",{key:1,style:Q({color:e(t).getColorVal("menuActiveColor")}),class:"website-name"},w(e(o).site_name),5)),e(t).layout.layoutMode!="Streamline"?(i(),T(y,{key:2,onClick:r,name:e(t).layout.menuCollapse?"fa fa-indent":"fa fa-dedent",class:N([e(t).layout.menuCollapse?"unfold":"","fold"]),color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["name","class","color"])):R("",!0)])}}});var qe=z(yt,[["__scopeId","data-v-9d9d4790"]]);const bt=A({__name:"menuTree",props:{menus:{default:()=>[]}},setup(f){const t=f;X(r=>({"235a0781":e(o).getColorVal("menuActiveBackground")}));const o=W();return(r,u)=>{const d=_("Icon"),y=_("menu-tree",!0),b=_("el-sub-menu"),k=_("el-menu-item");return i(!0),S(D,null,Z(t.menus,c=>(i(),S(D,null,[c.children&&c.children.length>0?(i(),T(b,{index:c.path,key:c.path},{title:l(()=>{var h,v,a,s;return[n(d,{color:e(o).getColorVal("menuColor"),name:(h=c.meta)!=null&&h.icon?(v=c.meta)==null?void 0:v.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,w((a=c.meta)!=null&&a.title?(s=c.meta)==null?void 0:s.title:r.$t("noTitle")),1)]}),default:l(()=>[n(y,{menus:c.children},null,8,["menus"])]),_:2},1032,["index"])):(i(),T(k,{index:c.path,key:c.path,onClick:h=>e(ze)(c)},{default:l(()=>{var h,v,a,s;return[n(d,{color:e(o).getColorVal("menuColor"),name:(h=c.meta)!=null&&h.icon?(v=c.meta)==null?void 0:v.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,w((a=c.meta)!=null&&a.title?(s=c.meta)==null?void 0:s.title:r.$t("noTitle")),1)]}),_:2},1032,["index","onClick"]))],64))),256)}}});var We=z(bt,[["__scopeId","data-v-07f36d4a"]]);const ht=A({__name:"menuVertical",setup(f){X(c=>({"25930b15":e(y),"0cf7949c":e(t).getColorVal("menuBackground"),"501e4be3":e(t).getColorVal("menuColor"),"15b39986":e(t).getColorVal("menuActiveColor")}));const t=W(),o=U(),r=ne(),u=re(),d=J({defaultActive:""}),y=te(()=>{let c=0;return t.layout.menuShowTopBar&&(c=50),t.layout.layoutMode=="Default"?"calc(100vh - "+(32+c)+"px)":"calc(100vh - "+c+"px)"}),b=c=>{d.defaultActive=c.path},k=()=>{oe(()=>{var h;let c=document.querySelector(".el-menu.layouts-menu-vertical li.is-active");if(!c)return!1;(h=u.value)==null||h.setScrollTop(c.offsetTop)})};return Y(()=>{b(r),k()}),de(c=>{b(c)}),(c,h)=>{const v=_("el-menu"),a=_("el-scrollbar");return i(),T(a,{ref_key:"verticalMenusRef",ref:u,class:"vertical-menus-scrollbar"},{default:l(()=>[n(v,{class:"layouts-menu-vertical","collapse-transition":!1,"unique-opened":e(t).layout.menuUniqueOpened,"default-active":d.defaultActive,collapse:e(t).layout.menuCollapse},{default:l(()=>[n(We,{menus:e(o).state.tabsViewRoutes},null,8,["menus"])]),_:1},8,["unique-opened","default-active","collapse"])]),_:1},512)}}});const Ct=A({name:"layout/aside"}),kt=A({...Ct,setup(f){X(u=>({d4637186:e(r)}));const t=W(),o=U(),r=te(()=>t.menuWidth());return(u,d)=>{const y=_("el-aside");return e(o).state.tabFullScreen?R("",!0):(i(),T(y,{key:0,class:N("layout-aside-"+e(t).layout.layoutMode+" "+(e(t).layout.shrink?"shrink":""))},{default:l(()=>[e(t).layout.menuShowTopBar?(i(),T(qe,{key:0})):R("",!0),n(ht)]),_:1},8,["class"]))}}});var Ue=z(kt,[["__scopeId","data-v-2132c5ae"]]);const xt={class:"el-dropdown-menu"},wt=["onClick"],Tt=A({__name:"index",props:{width:{default:150},items:{default:()=>[]}},emits:["contextmenuItemClick"],setup(f,{expose:t,emit:o}){const r=f,u=J({show:!1,axis:{x:0,y:0},menu:void 0,arrowAxis:10}),d=(k,c)=>{u.menu=k,u.axis=c,u.show=!0},y=k=>{k.disabled||(k.menu=Ke(u.menu),o("contextmenuItemClick",k))},b=()=>{u.show=!1};return t({onShowContextmenu:d,onHideContextmenu:b}),Y(()=>{document.body.addEventListener("click",b)}),me(()=>{document.body.removeEventListener("click",b)}),(k,c)=>{const h=_("Icon");return i(),T(_e,{name:"el-zoom-in-center"},{default:l(()=>[H((i(),S("div",{class:"el-popper is-pure is-light el-dropdown__popper ba-contextmenu",style:Q(`top: ${u.axis.y+5}px;left: ${u.axis.x-14}px;width:${r.width}px`),key:Math.random(),"aria-hidden":"false","data-popper-placement":"bottom"},[m("ul",xt,[(i(!0),S(D,null,Z(r.items,(v,a)=>(i(),S("li",{key:a,class:N(["el-dropdown-menu__item",v.disabled?"is-disabled":""]),tabindex:"-1",onClick:s=>y(v)},[n(h,{size:"12",name:v.icon},null,8,["name"]),m("span",null,w(v.label),1)],10,wt))),128))]),m("span",{class:"el-popper__arrow",style:Q({left:`${u.arrowAxis}px`})},null,4)],4)),[[$e,u.show]])]),_:1})}}});var St=z(Tt,[["__scopeId","data-v-02b606d8"]]);const Bt=["onClick","onContextmenu"],$t=A({__name:"tabs",setup(f){X(p=>({f39e3d64:e(r).getColorVal("headerBarTabColor"),"1b206730":e(r).getColorVal("headerBarTabActiveColor"),"7419ca56":e(r).layout.layoutMode=="Default"?"none":e(r).getColorVal("headerBarBackground")}));const t=ne(),o=Ve(),r=W(),u=U(),{proxy:d}=De(),y=re(),b=st(),k=re(),c=J({contextmenuItems:[{name:"refresh",label:"\u91CD\u65B0\u52A0\u8F7D",icon:"fa fa-refresh"},{name:"close",label:"\u5173\u95ED\u6807\u7B7E",icon:"fa fa-times"},{name:"fullScreen",label:"\u5F53\u524D\u6807\u7B7E\u5168\u5C4F",icon:"el-icon-FullScreen"},{name:"closeOther",label:"\u5173\u95ED\u5176\u4ED6\u6807\u7B7E",icon:"fa fa-minus"},{name:"closeAll",label:"\u5173\u95ED\u5168\u90E8\u6807\u7B7E",icon:"fa fa-stop"}]}),h=J({width:"0",transform:"translateX(0px)"}),v=p=>{o.push({path:p.path,query:p.query,params:p.params})},a=(p,$)=>{c.contextmenuItems[0].disabled=t.path!==p.path,c.contextmenuItems[4].disabled=c.contextmenuItems[3].disabled=u.state.tabsView.length==1;const{clientX:M,clientY:I}=$;k.value.onShowContextmenu(p,{x:M,y:I})},s=function(p){if(!p)return!1;h.width=p.clientWidth+"px",h.transform=`translateX(${p.offsetLeft}px)`;let $=p.offsetLeft+p.clientWidth-y.value.clientWidth;p.offsetLeft<y.value.scrollLeft?y.value.scrollTo(p.offsetLeft,0):$>y.value.scrollLeft&&y.value.scrollTo($,0)},F=()=>{const p=u.state.tabsView.slice(-1)[0];p?o.push(p.path):o.push("/admin")},B=p=>{var $;u.closeTab(p),d.eventBus.emit("onTabViewClose",p),(($=u.state.activeRoute)==null?void 0:$.path)===p.path?F():(u.setActiveRoute(u.state.activeRoute),oe(()=>{s(b.value[u.state.activeIndex])})),k.value.onHideContextmenu()},C=()=>{u.closeTabs(!1);let p=Pe(u.state.tabsViewRoutes);p&&ce(p.path)},E=async p=>{var I;const{name:$,menu:M}=p;if(!!M)switch($){case"refresh":d.eventBus.emit("onTabViewRefresh",M);break;case"close":B(M);break;case"closeOther":u.closeTabs(M),u.setActiveRoute(M),((I=u.state.activeRoute)==null?void 0:I.path)!==t.path&&o.push(M.path);break;case"closeAll":C();break;case"fullScreen":t.path!==(M==null?void 0:M.path)&&o.push(M==null?void 0:M.path),u.setFullScreen(!0);break}},P=function(p){u.addTab(p),u.setActiveRoute(p),oe(()=>{s(b.value[u.state.activeIndex])})};return de(async p=>{P(p)}),Y(()=>{P(t),new je(y.value)}),(p,$)=>{const M=_("Icon");return i(),S(D,null,[m("div",{class:"nav-tabs",ref_key:"tabScrollbarRef",ref:y},[(i(!0),S(D,null,Z(e(u).state.tabsView,(I,K)=>(i(),S("div",{onClick:G=>v(I),onContextmenu:ee(G=>a(I,G),["prevent"]),class:N(["ba-nav-tab",e(u).state.activeIndex==K?"active":""]),ref_for:!0,ref:e(b).set,key:K},[V(w(I.meta.title)+" ",1),n(_e,{onAfterLeave:$[0]||($[0]=G=>s(e(b)[e(u).state.activeIndex])),name:"el-fade-in"},{default:l(()=>[H(n(M,{class:"close-icon",onClick:ee(G=>B(I),["stop"]),size:"15",name:"el-icon-Close"},null,8,["onClick"]),[[$e,e(u).state.tabsView.length>1]])]),_:2},1024)],42,Bt))),128)),m("div",{style:Q(h),class:"nav-tabs-active-box"},null,4)],512),n(St,{ref_key:"contextmenuRef",ref:k,items:c.contextmenuItems,onContextmenuItemClick:E},null,8,["items"])],64)}}});var Oe=z($t,[["__scopeId","data-v-aa518430"]]);const Te=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],j=(()=>{if(typeof document=="undefined")return!1;const f=Te[0],t={};for(const o of Te)if((o==null?void 0:o[1])in document){for(const[u,d]of o.entries())t[f[u]]=d;return t}return!1})(),Se={change:j.fullscreenchange,error:j.fullscreenerror};let q={request(f=document.documentElement,t){return new Promise((o,r)=>{const u=()=>{q.off("change",u),o()};q.on("change",u);const d=f[j.requestFullscreen](t);d instanceof Promise&&d.then(u).catch(r)})},exit(){return new Promise((f,t)=>{if(!q.isFullscreen){f();return}const o=()=>{q.off("change",o),f()};q.on("change",o);const r=document[j.exitFullscreen]();r instanceof Promise&&r.then(o).catch(t)})},toggle(f,t){return q.isFullscreen?q.exit():q.request(f,t)},onchange(f){q.on("change",f)},onerror(f){q.on("error",f)},on(f,t){const o=Se[f];o&&document.addEventListener(o,t,!1)},off(f,t){const o=Se[f];o&&document.removeEventListener(o,t,!1)},raw:j};Object.defineProperties(q,{isFullscreen:{get:()=>Boolean(document[j.fullscreenElement])},element:{enumerable:!0,get:()=>{var f;return(f=document[j.fullscreenElement])!=null?f:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[j.fullscreenEnabled])}});j||(q={isEnabled:!1});var se=q;const ge=f=>(Me("data-v-14941b41"),f=f(),Ae(),f),Vt={class:"layout-config-drawer"},It={class:"layout-mode-styles-box"},Mt={class:"layout-mode-box-style"},At=ge(()=>m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-aside"}),m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),Ft={class:"layout-mode-style-name"},Et=ge(()=>m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-aside"}),m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),Rt={class:"layout-mode-style-name"},Lt=ge(()=>m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),zt={class:"layout-mode-style-name"},Dt={class:"layout-config-global"},Pt={class:"layout-config-aside"},Nt=V("px"),qt={class:"layout-config-aside"},Wt={class:"ba-center"},Ut=A({__name:"config",setup(f){const{t}=pe(),o=W(),r=U(),u=Ve(),d=(v,a)=>{o.setLayout(a,v)},y=(v,a)=>{const s=o.layout[a];o.layout.isDark?s[1]=v:s[0]=v,o.setLayout(a,s)},b=v=>{ue.set(ie,{layoutMode:v,menuCollapse:o.layout.menuCollapse}),o.setLayoutMode(v)},k=(v,a)=>{o.setLayout(a,v);const s=r.state.tabsViewRoutes;r.setTabsViewRoutes([]),setTimeout(()=>{r.setTabsViewRoutes(s)},200)},c=()=>{o.setLayout("showDrawer",!1)},h=()=>{Ie.remove(Je),ue.remove(ie),u.go(0)};return(v,a)=>{const s=_("el-divider"),F=_("el-col"),B=_("el-row"),C=_("el-form-item"),E=_("el-option"),P=_("el-select"),p=_("el-color-picker"),$=_("el-switch"),M=_("el-input"),I=_("el-button"),K=_("el-popconfirm"),G=_("el-form"),O=_("el-scrollbar"),g=_("el-drawer");return i(),S("div",Vt,[n(g,{"model-value":e(o).layout.showDrawer,title:e(t)("layouts.Layout configuration"),size:"310px",onClose:c},{default:l(()=>[n(O,{class:"layout-mode-style-scrollbar"},{default:l(()=>[n(G,{ref:"formRef",model:e(o).layout},{default:l(()=>[m("div",It,[n(s,{"border-style":"dashed"},{default:l(()=>[V(w(e(t)("layouts.Layout mode")),1)]),_:1}),m("div",Mt,[n(B,{class:"layout-mode-box-style-row",gutter:10},{default:l(()=>[n(F,{span:12},{default:l(()=>[m("div",{onClick:a[0]||(a[0]=x=>b("Default")),class:N(["layout-mode-style default",e(o).layout.layoutMode=="Default"?"active":""])},[At,m("div",Ft,w(e(t)("layouts.default")),1)],2)]),_:1}),n(F,{span:12},{default:l(()=>[m("div",{onClick:a[1]||(a[1]=x=>b("Classic")),class:N(["layout-mode-style classic",e(o).layout.layoutMode=="Classic"?"active":""])},[Et,m("div",Rt,w(e(t)("layouts.classic")),1)],2)]),_:1})]),_:1}),n(B,{gutter:10},{default:l(()=>[n(F,{span:12},{default:l(()=>[m("div",{onClick:a[2]||(a[2]=x=>b("Streamline")),class:N(["layout-mode-style streamline",e(o).layout.layoutMode=="Streamline"?"active":""])},[Lt,m("div",zt,w(e(t)("layouts.Single column")),1)],2)]),_:1})]),_:1})]),n(s,{"border-style":"dashed"},{default:l(()=>[V(w(e(t)("layouts.overall situation")),1)]),_:1}),m("div",Dt,[n(C,{size:"large",label:e(t)("layouts.Dark mode")},{default:l(()=>[n(rt,{onClick:a[3]||(a[3]=x=>e(ut)())})]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Background page switching animation")},{default:l(()=>[n(P,{onChange:a[4]||(a[4]=x=>d(x,"mainAnimation")),"model-value":e(o).layout.mainAnimation,placeholder:e(t)("layouts.Please select an animation name")},{default:l(()=>[n(E,{label:"slide-right",value:"slide-right"}),n(E,{label:"slide-left",value:"slide-left"}),n(E,{label:"el-fade-in-linear",value:"el-fade-in-linear"}),n(E,{label:"el-fade-in",value:"el-fade-in"}),n(E,{label:"el-zoom-in-center",value:"el-zoom-in-center"}),n(E,{label:"el-zoom-in-top",value:"el-zoom-in-top"}),n(E,{label:"el-zoom-in-bottom",value:"el-zoom-in-bottom"})]),_:1},8,["model-value","placeholder"])]),_:1},8,["label"])]),n(s,{"border-style":"dashed"},{default:l(()=>[V(w(e(t)("layouts.sidebar")),1)]),_:1}),m("div",Pt,[n(C,{label:e(t)("layouts.Side menu bar background color")},{default:l(()=>[n(p,{onChange:a[5]||(a[5]=x=>y(x,"menuBackground")),"model-value":e(o).getColorVal("menuBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Side menu text color")},{default:l(()=>[n(p,{onChange:a[6]||(a[6]=x=>y(x,"menuColor")),"model-value":e(o).getColorVal("menuColor")},null,8,["model-value"])]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Side menu active item background color")},{default:l(()=>[n(p,{onChange:a[7]||(a[7]=x=>y(x,"menuActiveBackground")),"model-value":e(o).getColorVal("menuActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Side menu active item text color")},{default:l(()=>[n(p,{onChange:a[8]||(a[8]=x=>y(x,"menuActiveColor")),"model-value":e(o).getColorVal("menuActiveColor")},null,8,["model-value"])]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Show side menu top bar (logo bar)")},{default:l(()=>[n($,{onChange:a[9]||(a[9]=x=>d(x,"menuShowTopBar")),"model-value":e(o).layout.menuShowTopBar},null,8,["model-value"])]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Side menu top bar background color")},{default:l(()=>[n(p,{onChange:a[10]||(a[10]=x=>y(x,"menuTopBarBackground")),"model-value":e(o).getColorVal("menuTopBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Side menu width (when expanded)")},{default:l(()=>[n(M,{onInput:a[11]||(a[11]=x=>d(x,"menuWidth")),type:"number",step:10,"model-value":e(o).layout.menuWidth},{append:l(()=>[Nt]),_:1},8,["model-value"])]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Side menu default icon")},{default:l(()=>[n(it,{onChange:a[12]||(a[12]=x=>k(x,"menuDefaultIcon")),"model-value":e(o).layout.menuDefaultIcon},null,8,["model-value"])]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Side menu horizontal collapse")},{default:l(()=>[n($,{onChange:a[13]||(a[13]=x=>d(x,"menuCollapse")),"model-value":e(o).layout.menuCollapse},null,8,["model-value"])]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Side menu accordion")},{default:l(()=>[n($,{onChange:a[14]||(a[14]=x=>d(x,"menuUniqueOpened")),"model-value":e(o).layout.menuUniqueOpened},null,8,["model-value"])]),_:1},8,["label"])]),n(s,{"border-style":"dashed"},{default:l(()=>[V(w(e(t)("layouts.Top bar")),1)]),_:1}),m("div",qt,[n(C,{label:e(t)("layouts.Top bar background color")},{default:l(()=>[n(p,{onChange:a[15]||(a[15]=x=>y(x,"headerBarBackground")),"model-value":e(o).getColorVal("headerBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Top bar text color")},{default:l(()=>[n(p,{onChange:a[16]||(a[16]=x=>y(x,"headerBarTabColor")),"model-value":e(o).getColorVal("headerBarTabColor")},null,8,["model-value"])]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Background color when hovering over the top bar")},{default:l(()=>[n(p,{onChange:a[17]||(a[17]=x=>y(x,"headerBarHoverBackground")),"model-value":e(o).getColorVal("headerBarHoverBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Top bar menu active item background color")},{default:l(()=>[n(p,{onChange:a[18]||(a[18]=x=>y(x,"headerBarTabActiveBackground")),"model-value":e(o).getColorVal("headerBarTabActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(C,{label:e(t)("layouts.Top bar menu active item text color")},{default:l(()=>[n(p,{onChange:a[19]||(a[19]=x=>y(x,"headerBarTabActiveColor")),"model-value":e(o).getColorVal("headerBarTabActiveColor")},null,8,["model-value"])]),_:1},8,["label"])]),n(K,{onConfirm:h,title:e(t)("layouts.Are you sure you want to restore all configurations to the default values?")},{reference:l(()=>[m("div",Wt,[n(I,{class:"w80",type:"info"},{default:l(()=>[V(w(e(t)("layouts.Restore default")),1)]),_:1})])]),_:1},8,["title"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["model-value","title"])])}}});var Ot=z(Ut,[["__scopeId","data-v-14941b41"]]);const Ht={class:"command"},Kt={class:"task-opt"},jt=["onClick"],Jt={class:"indent-2"},Xt={class:"package-manager-dialog-footer"},Gt=V("npm"),Yt=V("cnpm"),Zt=V("pnpm"),Qt=V("yarn"),eo=V("ni"),to={class:"config-buttons"},oo=A({__name:"index",setup(f){const{t}=pe(),o=fe(),r=J({terminalWarning:"",port:o.state.port,menuExpand:document.documentElement.clientWidth>1840}),u=te(()=>{let a=o.state.port==""?"80":o.state.port;return a=="8000"?"php think run":"php think run -p "+a}),d=te(()=>{let a=o.state.port==""?"":":"+o.state.port;return"http://localhost"+a+" "+t("terminal.or")+" http://"+t("terminal.Site domain name")+a}),y=a=>{xe({port:a}).then(s=>{s.code==1?(o.changePort(a),v()):r.port=o.state.port}).catch(()=>{r.port=o.state.port})},b=a=>{let s=t("terminal.unknown"),F="info";switch(a){case L.Waiting:s=t("terminal.Waiting for execution"),F="info";break;case L.Connecting:s=t("terminal.Connecting"),F="warning";break;case L.Executing:s=t("terminal.Executing"),F="warning";break;case L.Success:s=t("terminal.Successful execution"),F="success";break;case L.Failed:s=t("terminal.Execution failed"),F="danger";break;case L.Unknown:s=t("terminal.Unknown execution result"),F="danger";break}return{statusText:s,statusType:F}},k=()=>{Ye.confirm(t("terminal.Are you sure you want to republish?"),t("Reminder"),{confirmButtonText:t("Confirm"),cancelButtonText:t("Cancel"),type:"warning"}).then(()=>{o.addTaskPM("web-build")})},c=a=>{xe({manager:a}).then(s=>{s.code==1&&o.changePackageManager(a)}),o.togglePackageManagerDialog(!1)},h=a=>{r.terminalWarning=a},v=()=>{Ze()!=o.state.port?h(t("terminal.The current terminal is not running under the installation service, and some commands may not be executed")):h("")};return Fe(()=>o.state.port,a=>{a!=r.port&&(r.port=a,v())}),Y(()=>{v()}),(a,s)=>{const F=_("el-tag"),B=_("el-button"),C=_("Icon"),E=_("el-card"),P=_("el-timeline-item"),p=_("el-timeline"),$=_("el-empty"),M=_("el-button-group"),I=_("el-alert"),K=_("el-dialog"),G=_("el-form"),O=Xe("blur");return i(),S(D,null,[n(K,Ge(a.$attrs,{modelValue:e(o).state.show,"onUpdate:modelValue":s[7]||(s[7]=g=>e(o).state.show=g),title:e(t)("terminal.Terminal"),"custom-class":"ba-terminal-dialog","append-to-body":!0}),{default:l(()=>[e(o).state.taskList.length?(i(),T(p,{key:0},{default:l(()=>[(i(!0),S(D,null,Z(e(o).state.taskList,(g,x)=>(i(),T(P,{key:x,class:N(["task-item","task-status-"+g.status]),type:b(g.status).statusType,center:"",timestamp:g.createtime,placement:"top"},{default:l(()=>[n(E,null,{default:l(()=>[m("div",null,[n(F,{type:b(g.status).statusType},{default:l(()=>[V(w(b(g.status).statusText),1)]),_:2},1032,["type"]),(g.status==e(L).Failed||g.status==e(L).Unknown)&&g.blockOnFailure?(i(),T(F,{key:0,class:"block-on-failure-tag",type:"warning"},{default:l(()=>[V(w(e(t)("terminal.Failure to execute this command will block the execution of the queue")),1)]),_:1})):R("",!0),g.status==e(L).Executing||g.status==e(L).Connecting?(i(),T(F,{key:1,class:"block-on-failure-tag",type:"danger"},{default:l(()=>[V(w(e(t)("terminal.Do not refresh the browser")),1)]),_:1})):R("",!0),m("span",Ht,w(g.command),1),m("div",Kt,[g.status==e(L).Failed||g.status==e(L).Unknown?H((i(),T(B,{key:0,title:e(t)("Retry"),size:"small",type:"warning",icon:"el-icon-RefreshRight",circle:"",onClick:ae=>e(o).retryTask(x)},null,8,["title","onClick"])),[[O]]):R("",!0),H(n(B,{onClick:ae=>e(o).delTask(x),title:e(t)("delete"),size:"small",type:"danger",icon:"el-icon-Delete",circle:""},null,8,["onClick","title"]),[[O]])])]),g.status!=e(L).Waiting?(i(),S(D,{key:0},[g.status!=e(L).Connecting&&g.status!=e(L).Executing?(i(),S("div",{key:0,onClick:ae=>e(o).setTaskShowMessage(x),class:"toggle-message-display"},[m("span",null,w(e(t)("terminal.Command run log")),1),n(C,{name:g.showMessage?"el-icon-ArrowUp":"el-icon-ArrowDown",size:"16",color:"#909399"},null,8,["name"])],8,jt)):R("",!0),g.status==e(L).Connecting||g.status==e(L).Executing||g.status>e(L).Executing&&g.showMessage?(i(),S("div",{key:1,class:N(["exec-message","exec-message-"+g.uuid])},[(i(!0),S(D,null,Z(g.message,(ae,He)=>(i(),S("div",{key:He,class:"message-item"},w(ae),1))),128))],2)):R("",!0)],64)):R("",!0)]),_:2},1024)]),_:2},1032,["class","type","timestamp"]))),128))]),_:1})):(i(),T($,{key:1,"image-size":80,description:e(t)("terminal.No mission yet")},null,8,["description"])),n(M,null,{default:l(()=>[H((i(),T(B,{class:"terminal-menu-item",icon:"el-icon-MagicStick",onClick:s[0]||(s[0]=g=>e(o).addTaskPM("test-install",!1))},{default:l(()=>[V(w(e(t)("terminal.Test command")),1)]),_:1})),[[O]]),H((i(),T(B,{class:"terminal-menu-item",icon:"el-icon-Download",onClick:s[1]||(s[1]=g=>e(o).addTaskPM("web-install"))},{default:l(()=>[V(w(e(t)("terminal.Install dependent packages")),1)]),_:1})),[[O]]),H((i(),T(B,{class:"terminal-menu-item",icon:"el-icon-Sell",onClick:s[2]||(s[2]=g=>k())},{default:l(()=>[V(w(e(t)("terminal.Republish")),1)]),_:1})),[[O]]),r.menuExpand?(i(),S(D,{key:1},[H((i(),T(B,{class:"terminal-menu-item",icon:"el-icon-Delete",onClick:s[4]||(s[4]=g=>e(o).clearSuccessTask())},{default:l(()=>[V(w(e(t)("terminal.Clean up task list")),1)]),_:1})),[[O]]),H((i(),T(B,{class:"terminal-menu-item",icon:"el-icon-Switch",onClick:s[5]||(s[5]=g=>e(o).togglePackageManagerDialog(!0))},{default:l(()=>[V(w(e(t)("terminal.Package manager"))+" "+w(e(o).state.packageManager.toUpperCase()),1)]),_:1})),[[O]]),H((i(),T(B,{class:"terminal-menu-item",icon:"el-icon-Tools",onClick:s[6]||(s[6]=g=>e(o).toggleConfigDialog())},{default:l(()=>[V(w(e(t)("terminal.Terminal settings")),1)]),_:1})),[[O]])],64)):H((i(),T(B,{key:0,class:"terminal-menu-item",icon:"el-icon-Expand",onClick:s[3]||(s[3]=g=>r.menuExpand=!0)},null,512)),[[O]])]),_:1}),r.terminalWarning?(i(),T(I,{key:2,title:r.terminalWarning,type:"warning"},null,8,["title"])):R("",!0)]),_:1},16,["modelValue","title"]),n(K,{onClose:s[14]||(s[14]=g=>e(o).togglePackageManagerDialog(!1)),"model-value":e(o).state.showPackageManagerDialog,"custom-class":"ba-terminal-dialog",title:e(t)("terminal.Please select package manager"),center:""},{footer:l(()=>[m("div",Xt,[n(B,{onClick:s[8]||(s[8]=g=>c("npm"))},{default:l(()=>[Gt]),_:1}),n(B,{onClick:s[9]||(s[9]=g=>c("cnpm"))},{default:l(()=>[Yt]),_:1}),n(B,{onClick:s[10]||(s[10]=g=>c("pnpm"))},{default:l(()=>[Zt]),_:1}),n(B,{onClick:s[11]||(s[11]=g=>c("yarn"))},{default:l(()=>[Qt]),_:1}),n(B,{onClick:s[12]||(s[12]=g=>c("ni"))},{default:l(()=>[eo]),_:1}),n(B,{onClick:s[13]||(s[13]=g=>c("none"))},{default:l(()=>[V(w(e(t)("terminal.I want to execute the command manually")),1)]),_:1})])]),default:l(()=>[m("div",Jt,w(e(t)("terminal.Switch package manager title")),1)]),_:1},8,["model-value","title"]),n(K,{onClose:s[19]||(s[19]=g=>e(o).toggleConfigDialog(!1)),"model-value":e(o).state.showConfig,"custom-class":"ba-terminal-dialog",title:e(t)("terminal.Terminal settings")},{default:l(()=>[n(G,{"label-position":"top"},{default:l(()=>[n(le,{label:e(t)("terminal.Install service port"),modelValue:r.port,"onUpdate:modelValue":s[15]||(s[15]=g=>r.port=g),type:"number","input-attr":{onChange:y},placeholder:e(t)("terminal.The port number to start the installation service (this port needs to be opened for external network access)")},null,8,["label","modelValue","input-attr","placeholder"]),n(le,{label:e(t)("terminal.Installation service startup command"),modelValue:e(u),"onUpdate:modelValue":s[16]||(s[16]=g=>ke(u)?u.value=g:null),type:"string","input-attr":{disabled:!0},attr:{"block-help":e(t)("terminal.Please execute this command to start the service (add Su under Linux)")}},null,8,["label","modelValue","attr"]),n(le,{label:e(t)("terminal.Installation service URL"),modelValue:e(d),"onUpdate:modelValue":s[17]||(s[17]=g=>ke(d)?d.value=g:null),type:"string","input-attr":{disabled:!0},attr:{"block-help":e(t)("terminal.Please access the site through the installation service URL (except in debug mode)")}},null,8,["label","modelValue","attr"])]),_:1}),n(le,{label:e(t)("terminal.Clean up successful tasks when starting a new task"),"model-value":e(o).state.automaticCleanupTask,type:"radio",data:{content:{0:e(t)("Disable"),1:e(t)("Enable")},childrenAttr:{border:!0}},"input-attr":{onChange:e(o).changeAutomaticCleanupTask}},null,8,["label","model-value","data","input-attr"]),m("div",to,[n(B,{onClick:s[18]||(s[18]=g=>e(o).toggleConfigDialog(!1))},{default:l(()=>[V(w(e(t)("terminal.Back to terminal")),1)]),_:1})])]),_:1},8,["model-value","title"])],64)}}});var no=z(oo,[["__scopeId","data-v-7ac1fa5a"]]);const ao={class:"nav-menu-item"},lo=["src"],so={class:"admin-name"},ro={class:"admin-info-base"},uo=["src"],io={class:"admin-info-other"},co={class:"admin-info-name"},mo={class:"admin-info-lasttime"},_o={class:"admin-info-footer"},po=A({__name:"navMenus",setup(f){X(v=>({"32998af4":e(r).getColorVal("headerBarBackground"),cd521358:e(r).getColorVal("headerBarTabColor"),"39bd6bb2":e(r).getColorVal("headerBarHoverBackground")}));const{t}=pe(),o=Ee(),r=W(),u=fe(),d=J({isFullScreen:!1,currentNavMenu:"",showLayoutDrawer:!1}),y=(v,a)=>{d.currentNavMenu=v?a:""},b=()=>{if(!se.isEnabled)return et.warning(t("layout.Full screen is not supported")),!1;se.toggle(),se.onchange(()=>{d.isFullScreen=se.isFullscreen})},k=()=>{ce({name:"routine/adminInfo"})},c=()=>{mt().then(()=>{Ie.remove(tt),Re.go(0)})},h=v=>{ot(v).then(()=>{})};return(v,a)=>{const s=_("Icon"),F=_("router-link"),B=_("el-dropdown-item"),C=_("el-dropdown-menu"),E=_("el-dropdown"),P=_("el-badge"),p=_("el-avatar"),$=_("el-button"),M=_("el-popover");return i(),S("div",{class:N(["nav-menus",e(r).layout.layoutMode])},[n(F,{class:"h100",target:"_blank",title:e(t)("home"),to:"/"},{default:l(()=>[m("div",ao,[n(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Monitor",size:"18"},null,8,["color"])])]),_:1},8,["title"]),n(E,{onVisibleChange:a[0]||(a[0]=I=>y(I,"lang")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:l(()=>[n(C,{class:"dropdown-menu-box"},{default:l(()=>[(i(!0),S(D,null,Z(e(r).lang.langArray,I=>(i(),T(B,{key:I.name,onClick:K=>e(Qe)(I.name)},{default:l(()=>[V(w(I.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:l(()=>[m("div",{class:N(["nav-menu-item pt2",d.currentNavMenu=="lang"?"hover":""])},[n(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-lang",size:"18"},null,8,["color"])],2)]),_:1}),m("div",{onClick:b,class:N(["nav-menu-item",d.isFullScreen?"hover":""])},[d.isFullScreen?(i(),T(s,{key:0,color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-full-screen-cancel",size:"18"},null,8,["color"])):(i(),T(s,{key:1,color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-FullScreen",size:"18"},null,8,["color"]))],2),e(o).super?(i(),S("div",{key:0,onClick:a[1]||(a[1]=I=>e(u).toggle()),class:"nav-menu-item pt2"},[n(P,{"is-dot":e(u).state.showDot},{default:l(()=>[n(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-terminal",size:"26"},null,8,["color"])]),_:1},8,["is-dot"])])):R("",!0),e(o).super?(i(),T(E,{key:1,onVisibleChange:a[3]||(a[3]=I=>y(I,"clear")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:l(()=>[n(C,{class:"dropdown-menu-box"},{default:l(()=>[n(B,{onClick:a[2]||(a[2]=I=>h("tp"))},{default:l(()=>[V(w(e(t)("utils.Clean up system cache")),1)]),_:1})]),_:1})]),default:l(()=>[m("div",{class:N(["nav-menu-item",d.currentNavMenu=="clear"?"hover":""])},[n(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Delete",size:"18"},null,8,["color"])],2)]),_:1})):R("",!0),n(M,{onShow:a[4]||(a[4]=I=>y(!0,"adminInfo")),onHide:a[5]||(a[5]=I=>y(!1,"adminInfo")),placement:"bottom-end","hide-after":0,width:260,trigger:"click","popper-class":"admin-info-box"},{reference:l(()=>[m("div",{class:N(["admin-info",d.currentNavMenu=="adminInfo"?"hover":""])},[n(p,{size:25,fit:"fill"},{default:l(()=>[m("img",{src:e(o).avatar,alt:""},null,8,lo)]),_:1}),m("div",so,w(e(o).nickname),1)],2)]),default:l(()=>[m("div",null,[m("div",ro,[n(p,{size:70,fit:"fill"},{default:l(()=>[m("img",{src:e(o).avatar,alt:""},null,8,uo)]),_:1}),m("div",io,[m("div",co,w(e(o).nickname),1),m("div",mo,w(e(o).lastlogintime),1)])]),m("div",_o,[n($,{onClick:k,type:"primary",plain:""},{default:l(()=>[V(w(e(t)("layouts.personal data")),1)]),_:1}),n($,{onClick:c,type:"danger",plain:""},{default:l(()=>[V(w(e(t)("layouts.cancellation")),1)]),_:1})])])]),_:1}),m("div",{onClick:a[6]||(a[6]=I=>e(r).setLayout("showDrawer",!0)),class:"nav-menu-item"},[n(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"fa fa-cogs",size:"18"},null,8,["color"])]),n(Ot),n(no)],2)}}});var ye=z(po,[["__scopeId","data-v-0f4672c2"]]);const fo={class:"nav-bar"},vo=A({__name:"default",setup(f){X(o=>({"2aa200da":e(t).getColorVal("headerBarTabColor"),e593da18:e(t).getColorVal("headerBarTabActiveColor"),"17a6902b":e(t).getColorVal("headerBarTabActiveBackground")}));const t=W();return(o,r)=>(i(),S("div",fo,[n(Oe),n(ye)]))}});var go=z(vo,[["__scopeId","data-v-e08b3cae"]]);const yo={class:"nav-bar"},bo={key:0,class:"unfold"},ho=A({__name:"classic",setup(f){X(r=>({"26bacab6":e(t).getColorVal("headerBarBackground"),"28e93e96":e(t).getColorVal("headerBarTabColor"),"2f6f13b0":e(t).getColorVal("headerBarTabActiveColor"),"7e97b530":e(t).getColorVal("headerBarHoverBackground"),"31dca4ef":e(t).getColorVal("headerBarTabActiveBackground")}));const t=W(),o=()=>{ft("ba-aside-menu-shade",()=>{t.setLayout("menuCollapse",!0)}),t.setLayout("menuCollapse",!1)};return(r,u)=>{const d=_("Icon");return i(),S("div",yo,[e(t).layout.shrink&&e(t).layout.menuCollapse?(i(),S("div",bo,[n(d,{onClick:o,name:"fa fa-indent",color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["color"])])):R("",!0),e(t).layout.shrink?R("",!0):(i(),T(Oe,{key:1})),n(ye)])}}});var Co=z(ho,[["__scopeId","data-v-79c162de"]]);const ko={class:"layouts-menu-horizontal"},xo={key:0,class:"menu-horizontal-logo"},wo=A({__name:"menuHorizontal",setup(f){X(c=>({"2f4ea948":e(o).getColorVal("headerBarHoverBackground"),"2fb16ed1":e(o).getColorVal("menuBackground"),"2b98248e":e(o).getColorVal("menuColor"),"29a79fa8":e(o).getColorVal("menuActiveColor"),99165812:e(o).getColorVal("menuActiveBackground")}));const t=re(),o=W(),r=U(),u=ne(),d=J({menuKey:we(),defaultActive:""}),y=te(()=>(d.menuKey=we(),r.state.tabsViewRoutes)),b=c=>{d.defaultActive=c.path},k=()=>{oe(()=>{var h;let c=document.querySelector(".el-menu.menu-horizontal li.is-active");if(!c)return!1;(h=t.value)==null||h.setScrollTop(c.offsetTop)})};return Y(()=>{b(u),k()}),de(c=>{b(c)}),(c,h)=>{const v=_("Icon"),a=_("el-sub-menu"),s=_("el-menu-item"),F=_("el-menu"),B=_("el-scrollbar");return i(),S("div",ko,[e(o).layout.menuShowTopBar?(i(),S("div",xo,[n(qe)])):R("",!0),n(B,{ref_key:"horizontalMenusRef",ref:t,class:"horizontal-menus-scrollbar"},{default:l(()=>[(i(),T(F,{class:"menu-horizontal",mode:"horizontal","default-active":d.defaultActive,key:d.menuKey},{default:l(()=>[(i(!0),S(D,null,Z(e(y),C=>(i(),S(D,null,[C.children&&C.children.length>0?(i(),T(a,{index:C.path,key:C.path},{title:l(()=>{var E,P,p,$;return[n(v,{color:e(o).getColorVal("menuColor"),name:(E=C.meta)!=null&&E.icon?(P=C.meta)==null?void 0:P.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,w((p=C.meta)!=null&&p.title?($=C.meta)==null?void 0:$.title:c.$t("noTitle")),1)]}),default:l(()=>[n(We,{menus:C.children},null,8,["menus"])]),_:2},1032,["index"])):(i(),T(s,{index:C.path,key:C.path,onClick:E=>e(ze)(C)},{default:l(()=>{var E,P,p,$;return[n(v,{color:e(o).getColorVal("menuColor"),name:(E=C.meta)!=null&&E.icon?(P=C.meta)==null?void 0:P.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,w((p=C.meta)!=null&&p.title?($=C.meta)==null?void 0:$.title:c.$t("noTitle")),1)]}),_:2},1032,["index","onClick"]))],64))),256))]),_:1},8,["default-active"]))]),_:1},512),n(ye)])}}});var To=z(wo,[["__scopeId","data-v-9a259322"]]);const So=A({name:"layout/header",components:{DefaultNavBar:go,ClassicNavBar:Co,StreamlineNavBar:To}}),Bo=A({...So,setup(f){const t=W(),o=U();return(r,u)=>{const d=_("el-header");return e(o).state.tabFullScreen?R("",!0):(i(),T(d,{key:0,class:"layout-header"},{default:l(()=>[(i(),T(ve(e(t).layout.layoutMode+"NavBar")))]),_:1}))}}});var be=z(Bo,[["__scopeId","data-v-7f580f42"]]);const $o=A({name:"layout/main"}),Vo=A({...$o,setup(f){const{proxy:t}=De(),o=ne(),r=W(),u=U(),d=J({componentKey:o.path,keepAliveComponentNameList:[]}),y=function(b){if(b){if(d.keepAliveComponentNameList.find(c=>c===b))return;d.keepAliveComponentNameList.push(b)}};return Le(()=>{t.eventBus.on("onTabViewRefresh",b=>{d.keepAliveComponentNameList=d.keepAliveComponentNameList.filter(k=>b.meta.keepalive!==k),d.componentKey="",oe(()=>{d.componentKey=b.path,y(b.meta.keepalive)})}),t.eventBus.on("onTabViewClose",b=>{d.keepAliveComponentNameList=d.keepAliveComponentNameList.filter(k=>b.meta.keepalive!==k)})}),me(()=>{t.eventBus.off("onTabViewRefresh"),t.eventBus.off("onTabViewClose")}),Y(()=>{var b,k;typeof((b=u.state.activeRoute)==null?void 0:b.meta.keepalive)=="string"&&y((k=u.state.activeRoute)==null?void 0:k.meta.keepalive)}),Fe(()=>o.path,()=>{var b,k;d.componentKey=o.path,typeof((b=u.state.activeRoute)==null?void 0:b.meta.keepalive)=="string"&&y((k=u.state.activeRoute)==null?void 0:k.meta.keepalive)}),(b,k)=>{const c=_("router-view"),h=_("el-scrollbar"),v=_("el-main");return i(),T(v,{class:"layout-main"},{default:l(()=>[n(h,{class:"layout-main-scrollbar",style:Q(e(pt)()),ref:"mainScrollbarRef"},{default:l(()=>[n(c,null,{default:l(({Component:a})=>[n(_e,{name:e(r).layout.mainAnimation,mode:"out-in"},{default:l(()=>[(i(),T(nt,{include:d.keepAliveComponentNameList},[(i(),T(ve(a),{key:d.componentKey}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})]),_:1},8,["style"])]),_:1})}}});var he=z(Vo,[["__scopeId","data-v-3441da67"]]);const Io=f=>(Me("data-v-d04f5c2a"),f=f(),Ae(),f),Mo=["title","onMouseover","onMouseout"],Ao=["onClick"],Fo=Io(()=>m("div",{class:"close-full-screen-on"},null,-1)),Eo=A({__name:"closeFullScreen",setup(f){const t=U(),o=J({closeBoxTop:20});Y(()=>{setTimeout(()=>{o.closeBoxTop=-30},300)});const r=()=>{o.closeBoxTop=20},u=()=>{o.closeBoxTop=-30},d=()=>{t.setFullScreen(!1)};return(y,b)=>{const k=_("Icon");return i(),S("div",{title:y.$t("layout.Exit full screen"),onMouseover:ee(r,["stop"]),onMouseout:ee(u,["stop"])},[m("div",{onClick:ee(d,["stop"]),class:"close-full-screen",style:Q({top:o.closeBoxTop+"px"})},[n(k,{name:"el-icon-Close"})],12,Ao),Fo],40,Mo)}}});var Ce=z(Eo,[["__scopeId","data-v-d04f5c2a"]]);const Ro=A({__name:"default",setup(f){const t=U();return(o,r)=>{const u=_("el-container");return i(),S(D,null,[n(u,{class:"layout-container"},{default:l(()=>[n(Ue),n(u,{class:"content-wrapper"},{default:l(()=>[n(be),n(he)]),_:1})]),_:1}),e(t).state.tabFullScreen?(i(),T(Ce,{key:0})):R("",!0)],64)}}});var Lo=z(Ro,[["__scopeId","data-v-cc0da66a"]]);const zo=A({__name:"classic",setup(f){const t=U();return(o,r)=>{const u=_("el-container");return i(),S(D,null,[n(u,{class:"layout-container"},{default:l(()=>[n(Ue),n(u,{class:"content-wrapper"},{default:l(()=>[n(be),n(he)]),_:1})]),_:1}),e(t).state.tabFullScreen?(i(),T(Ce,{key:0})):R("",!0)],64)}}});var Do=z(zo,[["__scopeId","data-v-91c8af48"]]);const Po=A({__name:"streamline",setup(f){const t=U();return(o,r)=>{const u=_("el-container");return i(),S(D,null,[n(u,{class:"layout-container"},{default:l(()=>[n(u,{class:"content-wrapper"},{default:l(()=>[n(be),n(he)]),_:1})]),_:1}),e(t).state.tabFullScreen?(i(),T(Ce,{key:0})):R("",!0)],64)}}});var No=z(Po,[["__scopeId","data-v-9111e4cc"]]);const qo={components:{Default:Lo,Classic:Do,Streamline:No}},Ko=A({...qo,__name:"index",setup(f){const t=fe(),o=U(),r=W(),u=ne(),d=Be(),y=Ee();Y(()=>{if(!y.token)return Re.push({name:"adminLogin"});b(),c(),window.addEventListener("resize",c)}),Le(()=>{k(),window.addEventListener("resize",k)}),me(()=>{window.removeEventListener("resize",k),window.removeEventListener("resize",c)});const b=()=>{_t().then(h=>{if(d.dataFill(h.data.siteConfig),t.changePort(h.data.terminal.install_service_port),t.changePackageManager(h.data.terminal.npm_package_manager),y.setSuper(h.data.adminInfo.super),h.data.menus){if(ct(h.data.menus),u.query&&u.query.url&&u.query.url!=at.path&&dt(o.state.tabsViewRoutes).indexOf(u.query.url)!==-1){let s=JSON.parse(u.query.query);ce({path:u.query.url,query:Object.keys(s).length?s:{}});return}let v=Pe(o.state.tabsViewRoutes);v&&ce(v.path)}})},k=()=>{let h={layoutMode:r.layout.layoutMode,menuCollapse:r.layout.menuCollapse},v=ue.get(ie);if(v||ue.set(ie,h),document.body.clientWidth<1024)r.setLayout("menuCollapse",!0),r.setLayout("shrink",!0),r.setLayoutMode("Classic");else{let s=v||h;r.setLayout("menuCollapse",s.menuCollapse),r.setLayout("shrink",!1),r.setLayoutMode(s.layoutMode)}},c=()=>{const h=document.querySelector(".nav-tabs");if(!h)return;const v=document.querySelector(".nav-bar"),a=document.querySelector(".nav-menus"),s=v.offsetWidth-(a.offsetWidth+20);h.style.width=s.toString()+"px"};return(h,v)=>(i(),T(ve(e(r).layout.layoutMode)))}});export{Ko as default};
