import{H as h,A as R,e as v,d as w,f as C,b as q,g as M}from"./index.541c53bf.js";import{_ as p,l as m,ae as k,C as s,D as c,M as i,B as n,A as e,a8 as I,j as d,at as b,ai as x,m as S,a3 as j,aM as A,aK as B,a2 as $,o as D,be as N,aY as F,$ as H}from"./index.fca36794.js";import{m as g}from"./layout.34b0ba56.js";import"./login.0000cb8e.js";const O=m({__name:"main",setup(f){const l=k();return(o,_)=>{const r=s("router-view"),a=s("el-main");return c(),i(a,{class:"layout-main"},{default:n(()=>[e(r,null,{default:n(({Component:t})=>[e(I,{name:d(l).layout.mainAnimation,mode:"out-in"},{default:n(()=>[(c(),i(b(t)))]),_:2},1032,["name"])]),_:1})]),_:1})}}});var P=p(O,[["__scopeId","data-v-06936b35"]]);const T=m({__name:"default",setup(f){return(l,o)=>{const _=s("el-col"),r=s("el-row"),a=s("el-scrollbar"),t=s("el-container");return c(),i(t,{class:"is-vertical"},{default:n(()=>[e(h),e(a,{style:x(d(g)()),ref:"mainScrollbarRef"},{default:n(()=>[e(r,{class:"frontend-footer-brother",justify:"center"},{default:n(()=>[e(_,{class:"user-layouts",span:16,xs:24},{default:n(()=>[e(R,{class:"hidden-sm-and-down"}),e(P)]),_:1})]),_:1}),e(v)]),_:1},8,["style"])]),_:1})}}});var U=p(T,[["__scopeId","data-v-cd46fc2a"]]);const z=m({__name:"disable",setup(f){return(l,o)=>{const _=s("el-alert"),r=s("el-col"),a=s("el-row"),t=s("el-scrollbar"),u=s("el-container");return c(),i(u,{class:"is-vertical"},{default:n(()=>[e(h),e(t,{style:x(d(g)()),ref:"mainScrollbarRef"},{default:n(()=>[e(a,{class:"frontend-footer-brother",justify:"center"},{default:n(()=>[e(r,{class:"user-layouts",span:16,xs:24},{default:n(()=>[e(_,{center:!0,title:l.$t("user.user.Member center disabled"),type:"error"},null,8,["title"])]),_:1})]),_:1}),e(v)]),_:1},8,["style"])]),_:1})}}});var E=p(z,[["__scopeId","data-v-7ce7b941"]]);const J={components:{Default:U,Disable:E}},G=m({...J,__name:"user",setup(f){const{t:l}=S(),o=j(),_=A(),r=B(),a=w();return $(t=>{a.setActiveRoute(t)}),D(()=>{if(!r.token)return _.push({name:"userLogin"});N().then(t=>{if(t.data.userInfo.refreshToken=r.refreshToken,r.dataFill(t.data.userInfo),t.data.menus){if(C(t.data.menus),o.query&&o.query.url&&o.query.url!=F.path&&q(a.state.viewRoutes).indexOf(o.query.url)!==-1){let y=JSON.parse(o.query.query);_.push({path:o.query.url,query:Object.keys(y).length?y:{}});return}let u=M(a.state.viewRoutes);u?_.push({path:u.path}):H({type:"error",message:l("No route found to jump~")})}}),document.body.clientWidth<1024?a.setShrink(!0):a.setShrink(!1)}),(t,u)=>(c(),i(b(d(a).state.layoutMode)))}});export{G as default};
