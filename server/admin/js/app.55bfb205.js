(function(){var t={6076:function(){},8643:function(t,e,a){"use strict";var s=a(8935),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r=a(6076),n=a.n(r),o=n(),c=a(1001),m=(0,c.Z)(o,l,i,!1,null,null,null),u=m.exports,d=a(4549),p=a.n(d);s["default"].use(p());var h=a(2809),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("el-card",{staticClass:"login-card",attrs:{header:"请先登陆"}},[a("el-form",{nativeOn:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{type:"text"},model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{type:"password"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("登陆")])],1)],1)],1)],1)},v=[],b={data(){return{model:{}}},methods:{async login(){const t=await this.$http.post("login",this.model);localStorage.token=t.data.token,this.$router.push("/"),this.$message({type:"success",message:"登陆成功"})}}},g=b,y=(0,c.Z)(g,f,v,!1,null,"47d0970d",null),_=y.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{height:"100vh"}},[a("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[a("el-menu",{attrs:{router:"","default-openeds":["1"],"unique-opened":"","default-active":t.$route.path}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),t._v("内容管理")]),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("物品")]),a("el-menu-item",{attrs:{index:"/items/create"}},[t._v("新建物品")]),a("el-menu-item",{attrs:{index:"/items/list"}},[t._v("物品列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("英雄")]),a("el-menu-item",{attrs:{index:"/heroes/create"}},[t._v("新建英雄")]),a("el-menu-item",{attrs:{index:"/heroes/list"}},[t._v("英雄列表")])],2)],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),t._v("运营管理")]),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("广告位")]),a("el-menu-item",{attrs:{index:"/ads/create"}},[t._v("新建广告位")]),a("el-menu-item",{attrs:{index:"/ads/list"}},[t._v("广告位列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("文章")]),a("el-menu-item",{attrs:{index:"/articles/create"}},[t._v("新建文章")]),a("el-menu-item",{attrs:{index:"/articles/list"}},[t._v("文章列表")])],2)],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),t._v("系统设置")]),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("分类")]),a("el-menu-item",{attrs:{index:"/categories/create"}},[t._v("新建分类")]),a("el-menu-item",{attrs:{index:"/categories/list"}},[t._v("分类列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("管理员")]),a("el-menu-item",{attrs:{index:"/admin_users/create"}},[t._v("新建管理员")]),a("el-menu-item",{attrs:{index:"/admin_users/list"}},[t._v("管理员列表")])],2)],2)],1)],1),a("el-container",[a("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[a("el-dropdown",[a("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[t._v("登陆")]),a("el-dropdown-item",[t._v("新增")]),a("el-dropdown-item",[t._v("退出")])],1)],1),a("span",[t._v("admin")])],1),a("el-main",[a("router-view",{key:t.$route.path})],1)],1)],1)},w=[],x={data(){const t={date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"};return{tableData:Array(20).fill(t)}}},k=x,S=(0,c.Z)(k,$,w,!1,null,null,null),C=S.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"分类")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[a("el-form-item",{attrs:{label:"上级分类"}},[a("el-select",{model:{value:t.model.parent,callback:function(e){t.$set(t.model,"parent",e)},expression:"model.parent"}},t._l(t.parents,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},E=[],O={props:{id:{}},data(){return{model:{},parents:[]}},methods:{async save(){if(this.id){await this.$http.put(`rest/categories/${this.id}`,this.model)}else{await this.$http.post("rest/categories",this.model)}this.$router.push("/categories/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`rest/categories/${this.id}`);this.model=t.data},async fetchParents(){const t=await this.$http.get("rest/categories");this.parents=t.data}},created(){this.fetchParents(),this.id&&this.fetch()}},z=O,Z=(0,c.Z)(z,T,E,!1,null,"003a2dfb",null),D=Z.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("分类列表")]),a("el-table",{attrs:{data:t.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"parent",label:"上级分类"}}),a("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.$router.push("/categories/edit/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},U=[],A={data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/categories");this.items=t.data},async remove(t){this.$confirm(`是否确定删除分类 "${t.name}" ？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await this.$http.delete(`rest/categories/${t._id}`);this.$message({type:"success",message:"删除成功"}),this.fetch()}))}},created(){this.fetch()}},P=A,j=(0,c.Z)(P,B,U,!1,null,"6fb70ea1",null),I=j.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"物品")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"价格"}},[a("el-input",{model:{value:t.model.gold,callback:function(e){t.$set(t.model,"gold",e)},expression:"model.gold"}})],1),a("el-form-item",{attrs:{label:"图标"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthHeaders(),"show-file-list":!1,"on-success":t.afterUpload}},[t.model.icon?a("img",{staticClass:"avatar",attrs:{src:t.model.icon,alt:t.model.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},H=[],L={props:{id:{}},data(){return{model:{}}},methods:{async save(){if(this.id){await this.$http.put(`rest/items/${this.id}`,this.model)}else{await this.$http.post("rest/items",this.model)}this.$router.push("/items/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`rest/items/${this.id}`);this.model=t.data},afterUpload(t){this.$set(this.model,"icon",t.url)}},created(){this.id&&this.fetch()}},M=L,V=(0,c.Z)(M,R,H,!1,null,null,null),q=V.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("物品列表")]),a("el-table",{attrs:{data:t.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"name",label:"装备名称"}}),a("el-table-column",{attrs:{prop:"gold",label:"装备价格"}}),a("el-table-column",{attrs:{prop:"icon",label:"装备图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{height:"3em"},attrs:{src:t.row.icon,alt:t.row.name}})]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.$router.push("/items/edit/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},N=[],G={data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/items");this.items=t.data},async remove(t){this.$confirm(`是否确定删除分类 "${t.name}" ？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await this.$http.delete(`rest/items/${t._id}`);this.$message({type:"success",message:"删除成功"}),this.fetch()}))}},created(){this.fetch()}},J=G,K=(0,c.Z)(J,F,N,!1,null,"2d683aba",null),Q=K.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"英雄")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[a("el-tabs",{attrs:{value:"basic"}},[a("el-tab-pane",{attrs:{label:"基础信息",name:"basic"}},[a("el-form-item",{attrs:{label:"头像"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthHeaders(),"on-success":function(e){return t.$set(t.model,"avatar",e.url)}}},[t.model.avatar?a("img",{staticClass:"avatar",attrs:{src:t.model.avatar,alt:t.model.name}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"皮肤"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthHeaders(),"show-file-list":!1,"on-success":function(e){return t.$set(t.model,"banner",e.url)}}},[t.model.banner?a("img",{staticClass:"avatar",attrs:{src:t.model.banner,alt:t.model.name}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"称号"}},[a("el-input",{model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),a("el-form-item",{attrs:{label:"英雄定位"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.categories,callback:function(e){t.$set(t.model,"categories",e)},expression:"model.categories"}},t._l(t.categories,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"难度"}},[a("el-rate",{staticStyle:{"margin-top":"0.6rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.difficult,callback:function(e){t.$set(t.model.scores,"difficult",e)},expression:"model.scores.difficult"}})],1),a("el-form-item",{attrs:{label:"技能"}},[a("el-rate",{staticStyle:{"margin-top":"0.6rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.skills,callback:function(e){t.$set(t.model.scores,"skills",e)},expression:"model.scores.skills"}})],1),a("el-form-item",{attrs:{label:"攻击"}},[a("el-rate",{staticStyle:{"margin-top":"0.6rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.attack,callback:function(e){t.$set(t.model.scores,"attack",e)},expression:"model.scores.attack"}})],1),a("el-form-item",{attrs:{label:"生存"}},[a("el-rate",{staticStyle:{"margin-top":"0.6rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.survive,callback:function(e){t.$set(t.model.scores,"survive",e)},expression:"model.scores.survive"}})],1),a("el-form-item",{attrs:{label:"顺风出装"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.items1,callback:function(e){t.$set(t.model,"items1",e)},expression:"model.items1"}},t._l(t.items1,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"逆风出装"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.items2,callback:function(e){t.$set(t.model,"items2",e)},expression:"model.items2"}},t._l(t.items2,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"使用技巧"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.usageTip,callback:function(e){t.$set(t.model,"usageTip",e)},expression:"model.usageTip"}})],1),a("el-form-item",{attrs:{label:"对抗技巧"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.battleTip,callback:function(e){t.$set(t.model,"battleTip",e)},expression:"model.battleTip"}})],1),a("el-form-item",{attrs:{label:"团战技巧"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.teamTip,callback:function(e){t.$set(t.model,"teamTip",e)},expression:"model.teamTip"}})],1)],1),a("el-tab-pane",{attrs:{label:"技能",name:"skills"}},[a("el-button",{on:{click:function(e){return t.model.skills.push({})}}},[a("i",{staticClass:"el-icon-plus"}),t._v("添加技能 ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.skills,(function(e,s){return a("el-col",{key:s,attrs:{md:12}},[a("el-form-item",{staticStyle:{"flex-wrap":"wrap"},attrs:{label:"名称"}},[a("el-input",{model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("el-form-item",{staticStyle:{"flex-wrap":"wrap"},attrs:{label:"图标"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthHeaders(),"show-file-list":!1,"on-success":function(a){return t.$set(e,"icon",a.url)}}},[e.icon?a("img",{staticClass:"avatar",attrs:{src:e.icon,alt:t.model.name}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"item.description"}})],1),a("el-form-item",{attrs:{label:"提示"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.tips,callback:function(a){t.$set(e,"tips",a)},expression:"item.tips"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.model.skills.splice(s,1)}}},[t._v("删除")])],1)],1)})),1)],1)],1),a("el-form-item",{staticStyle:{"margin-top":"1rem"}},[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},X=[],Y={props:{id:{}},data(){return{categories:[],items1:[],items2:[],heroes:[],model:{name:"",avatar:"",scores:{difficult:0,skills:0,attack:0,survive:0},usageTip:"",battleTip:"",teamTip:"",skills:[]}}},methods:{async save(){if(this.id){await this.$http.put(`rest/heroes/${this.id}`,this.model)}else{await this.$http.post("rest/heroes",this.model)}this.$router.push("/heroes/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`rest/heroes/${this.id}`);this.model=Object.assign({},this.model,t.data)},async fetchCategories(){const t=await this.$http.get("rest/categories");this.categories=t.data},async fetchItems(){const t=await this.$http.get("rest/items");this.items1=t.data,this.items2=t.data}},created(){this.fetchCategories(),this.fetchItems(),this.id&&this.fetch()}},tt=Y,et=(0,c.Z)(tt,W,X,!1,null,null,null),at=et.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("英雄列表")]),a("el-table",{attrs:{data:t.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"name",label:"英雄名称"}}),a("el-table-column",{attrs:{prop:"title",label:"称号"}}),a("el-table-column",{attrs:{prop:"avatar",label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{height:"3em"},attrs:{src:t.row.avatar,alt:t.row.name}})]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.$router.push("/heroes/edit/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},lt=[],it={data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/heroes");this.items=t.data},async remove(t){this.$confirm(`是否确定删除分类 "${t.name}" ？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await this.$http.delete(`rest/heroes/${t._id}`);this.$message({type:"success",message:"删除成功"}),this.fetch()}))}},created(){this.fetch()}},rt=it,nt=(0,c.Z)(rt,st,lt,!1,null,"25ffab69",null),ot=nt.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"文章")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[a("el-form-item",{attrs:{label:"所属分类"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.categories,callback:function(e){t.$set(t.model,"categories",e)},expression:"model.categories"}},t._l(t.categories,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),a("el-form-item",{attrs:{label:"详情"}},[a("vue-editor",{attrs:{useCustomImageHandler:""},on:{"image-added":t.handleImageAdded},model:{value:t.model.body,callback:function(e){t.$set(t.model,"body",e)},expression:"model.body"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},mt=[],ut=a(8898),dt={components:{VueEditor:ut.bR},props:{id:{}},data(){return{model:{},parents:[],categories:[]}},methods:{async save(){if(this.id){await this.$http.put(`rest/articles/${this.id}`,this.model)}else{await this.$http.post("rest/articles",this.model)}this.$router.push("/articles/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`rest/articles/${this.id}`);this.model=t.data},async fetchCategories(){const t=await this.$http.get("rest/categories");this.categories=t.data},async handleImageAdded(t,e,a,s){const l=new FormData;l.append("file",t);const i=await this.$http.post("upload",l);e.insertEmbed(a,"image",i.data.url),s()}},created(){this.fetchCategories(),this.id&&this.fetch()}},pt=dt,ht=(0,c.Z)(pt,ct,mt,!1,null,"1087a0d5",null),ft=ht.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("文章列表")]),a("el-table",{attrs:{data:t.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.$router.push("/articles/edit/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},bt=[],gt={data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/articles");this.items=t.data},async remove(t){this.$confirm(`是否确定删除文章 "${t.title}" ？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await this.$http.delete(`rest/articles/${t._id}`);this.$message({type:"success",message:"删除成功"}),this.fetch()}))}},created(){this.fetch()}},yt=gt,_t=(0,c.Z)(yt,vt,bt,!1,null,"c4936c12",null),$t=_t.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"广告位")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"广告"}},[a("el-button",{on:{click:function(e){return t.model.items.push({})}}},[a("i",{staticClass:"el-icon-plus"}),t._v("添加广告 ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.items,(function(e,s){return a("el-col",{key:s,attrs:{md:24}},[a("el-form-item",{staticStyle:{"flex-wrap":"wrap"},attrs:{label:"跳转连接(URL)"}},[a("el-input",{model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("el-form-item",{staticStyle:{"flex-wrap":"wrap","margin-top":"10px"},attrs:{label:"图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":function(a){return t.$set(e,"image",a.url)}}},[e.image?a("img",{staticClass:"avatar",attrs:{src:e.image,alt:t.model.name}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.model.items.splice(s,1)}}},[t._v("删除")])],1)],1)})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},xt=[],kt={props:{id:{}},data(){return{model:{items:[]}}},methods:{async save(){if(this.id){await this.$http.put(`rest/ads/${this.id}`,this.model)}else{await this.$http.post("rest/ads",this.model)}this.$router.push("/ads/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`rest/ads/${this.id}`);this.model=Object.assign({},this.model,t.data)}},created(){this.id&&this.fetch()}},St=kt,Ct=(0,c.Z)(St,wt,xt,!1,null,null,null),Tt=Ct.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("广告位列表")]),a("el-table",{attrs:{data:t.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.$router.push("/ads/edit/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},Ot=[],zt={data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/ads");this.items=t.data},async remove(t){this.$confirm(`是否确定删除分类 "${t.name}" ？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await this.$http.delete(`rest/ads/${t._id}`);this.$message({type:"success",message:"删除成功"}),this.fetch()}))}},created(){this.fetch()}},Zt=zt,Dt=(0,c.Z)(Zt,Et,Ot,!1,null,"069ec8a0",null),Bt=Dt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"管理员")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{type:"text"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},At=[],Pt={props:{id:{}},data(){return{model:{}}},methods:{async save(){if(this.id){await this.$http.put(`rest/admin_users/${this.id}`,this.model)}else{await this.$http.post("rest/admin_users",this.model)}this.$router.push("/admin_users/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`rest/admin_users/${this.id}`);this.model=t.data}},created(){this.id&&this.fetch()}},jt=Pt,It=(0,c.Z)(jt,Ut,At,!1,null,"62a6d56e",null),Rt=It.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("分类列表")]),a("el-table",{attrs:{data:t.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.$router.push("/admin_users/edit/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},Lt=[],Mt={data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/admin_users");this.items=t.data},async remove(t){this.$confirm(`是否确定删除 "${t.name}" ？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await this.$http.delete(`rest/admin_users/${t._id}`);this.$message({type:"success",message:"删除成功"}),this.fetch()}))}},created(){this.fetch()}},Vt=Mt,qt=(0,c.Z)(Vt,Ht,Lt,!1,null,"4c73e7ea",null),Ft=qt.exports;s["default"].use(h.Z);const Nt=new h.Z({routes:[{path:"/login",name:"login",component:_,meta:{isPublic:!0}},{path:"/",name:"main",component:C,children:[{path:"/categories/create",component:D},{path:"/categories/edit/:id",component:D,props:!0},{path:"/categories/list",component:I},{path:"/items/create",component:q},{path:"/items/edit/:id",component:q,props:!0},{path:"/items/list",component:Q},{path:"/heroes/create",component:at},{path:"/heroes/edit/:id",component:at,props:!0},{path:"/heroes/list",component:ot},{path:"/articles/create",component:ft},{path:"/articles/edit/:id",component:ft,props:!0},{path:"/articles/list",component:$t},{path:"/ads/create",component:Tt},{path:"/ads/edit/:id",component:Tt,props:!0},{path:"/ads/list",component:Bt},{path:"/admin_users/create",component:Rt},{path:"/admin_users/edit/:id",component:Rt,props:!0},{path:"/admin_users/list",component:Ft}]}]});Nt.beforeEach(((t,e,a)=>{if(t.meta.isPublic&&"localStorage".token)return a("/login");a()}));var Gt=Nt,Jt=a(6166),Kt=a.n(Jt);const Qt=Kt().create({baseURL:{NODE_ENV:"production",BASE_URL:"/admin/"}.VUE_APP_API_URL||"/admin/api"});Qt.interceptors.request.use((function(t){return localStorage.token&&(t.headers.Authorization="Bearer "+localStorage.token||0),t}),(function(t){return Promise.reject(t)})),Qt.interceptors.response.use((t=>t),(t=>(t.response.data.message&&(s["default"].prototype.$message.error({type:"error",message:t.response.data.message}),401===t.response.status&&Gt.push("/login")),Promise.reject(t))));var Wt=Qt;s["default"].config.productionTip=!1,s["default"].prototype.$http=Wt,s["default"].mixin({computed:{uploadUrl(){return this.$http.defaults.baseURL+"/upload"}},methods:{getAuthHeaders(){return{Authorization:`Bearer ${localStorage.token||""}`}}}}),new s["default"]({router:Gt,render:t=>t(u)}).$mount("#app")}},e={};function a(s){var l=e[s];if(void 0!==l)return l.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,s,l,i){if(!s){var r=1/0;for(m=0;m<t.length;m++){s=t[m][0],l=t[m][1],i=t[m][2];for(var n=!0,o=0;o<s.length;o++)(!1&i||r>=i)&&Object.keys(a.O).every((function(t){return a.O[t](s[o])}))?s.splice(o--,1):(n=!1,i<r&&(r=i));if(n){t.splice(m--,1);var c=l();void 0!==c&&(e=c)}}return e}i=i||0;for(var m=t.length;m>0&&t[m-1][2]>i;m--)t[m]=t[m-1];t[m]=[s,l,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var l,i,r=s[0],n=s[1],o=s[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(l in n)a.o(n,l)&&(a.m[l]=n[l]);if(o)var m=o(a)}for(e&&e(s);c<r.length;c++)i=r[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(m)},s=self["webpackChunkadmin"]=self["webpackChunkadmin"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(8643)}));s=a.O(s)})();
//# sourceMappingURL=app.55bfb205.js.map